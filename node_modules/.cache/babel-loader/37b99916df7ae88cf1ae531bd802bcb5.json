{"ast":null,"code":"import _toConsumableArray from\"/Users/redhan/Desktop/work/Ecom-Admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/Users/redhan/Desktop/work/Ecom-Admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/redhan/Desktop/work/Ecom-Admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectWithoutProperties from\"/Users/redhan/Desktop/work/Ecom-Admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";/* eslint-disable max-len */import React,{useState}from'react';import{Link as RouterLink}from'react-router-dom';import clsx from'clsx';import moment from'moment';import PerfectScrollbar from'react-perfect-scrollbar';import{Avatar,Box,Button,Card,Checkbox,InputAdornment,IconButton,Link,SvgIcon,Table,TableBody,TableCell,TableHead,TablePagination,TableRow,TextField,Typography,colors,makeStyles}from'@material-ui/core';import{Edit as EditIcon,ArrowRight as ArrowRightIcon,Search as SearchIcon}from'react-feather';import Label from'src/components/Label';import getInitials from'src/utils/getInitials';var statusOptions=[{id:'all',name:'All'},{id:'paid',name:'Paid'},{id:'pending',name:'Pending'},{id:'canceled',name:'Canceled'}];var sortOptions=[{value:'createdAt|desc',label:'Newest first'},{value:'createdAt|asc',label:'Oldest first'}];function getStatusLabel(inventoryType){var map={paid:{text:'Paid',color:'success'},pending:{text:'Pending',color:'warning'},canceled:{text:'Canceled',color:'error'}};var _map$inventoryType=map[inventoryType],text=_map$inventoryType.text,color=_map$inventoryType.color;return(/*#__PURE__*/React.createElement(Label,{color:color},text));}function applyFilters(invoices,query,filters){return invoices.filter(function(invoice){var matches=true;if(query){var properties=['name','email'];var containsQuery=false;properties.forEach(function(property){if(invoice.customer[property].toLowerCase().includes(query.toLowerCase())){containsQuery=true;}});if(!containsQuery){matches=false;}}if(filters.status&&invoice.status!==filters.status){matches=false;}return matches;});}function applyPagination(customers,page,limit){return customers.slice(page*limit,page*limit+limit);}var useStyles=makeStyles(function(theme){return{root:{},queryField:{width:500},statusField:{flexBasis:200},bulkOperations:{position:'relative'},bulkActions:{paddingLeft:4,paddingRight:4,marginTop:6,position:'absolute',width:'100%',zIndex:2,backgroundColor:theme.palette.background.default},bulkAction:{marginLeft:theme.spacing(2)},avatar:{backgroundColor:colors.red[500],color:colors.common.white}};});function Results(_ref){var className=_ref.className,invoices=_ref.invoices,rest=_objectWithoutProperties(_ref,[\"className\",\"invoices\"]);var classes=useStyles();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),selectedInvoices=_useState2[0],setSelectedInvoices=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),page=_useState4[0],setPage=_useState4[1];var _useState5=useState(10),_useState6=_slicedToArray(_useState5,2),limit=_useState6[0],setLimit=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),query=_useState8[0],setQuery=_useState8[1];var _useState9=useState(sortOptions[0].value),_useState10=_slicedToArray(_useState9,2),sort=_useState10[0],setSort=_useState10[1];var _useState11=useState({status:null}),_useState12=_slicedToArray(_useState11,2),filters=_useState12[0],setFilters=_useState12[1];var handleQueryChange=function handleQueryChange(event){event.persist();setQuery(event.target.value);};var handleStatusChange=function handleStatusChange(event){event.persist();var value=null;if(event.target.value!=='all'){value=event.target.value;}setFilters(function(prevFilters){return _objectSpread({},prevFilters,{status:value});});};var handleSortChange=function handleSortChange(event){event.persist();setSort(event.target.value);};var handleSelectAllInvoices=function handleSelectAllInvoices(event){setSelectedInvoices(event.target.checked?invoices.map(function(invoice){return invoice.id;}):[]);};var handleSelectOneInvoice=function handleSelectOneInvoice(event,invoiceId){if(!selectedInvoices.includes(invoiceId)){setSelectedInvoices(function(prevSelected){return[].concat(_toConsumableArray(prevSelected),[invoiceId]);});}else{setSelectedInvoices(function(prevSelected){return prevSelected.filter(function(id){return id!==invoiceId;});});}};var handlePageChange=function handlePageChange(event,newPage){setPage(newPage);};var handleLimitChange=function handleLimitChange(event){setLimit(event.target.value);};// Usually query is done on backend with indexing solutions\nvar filteredInvoices=applyFilters(invoices,query,filters);var paginatedInvoices=applyPagination(filteredInvoices,page,limit);var enableBulkOperations=selectedInvoices.length>0;var selectedSomeInvoices=selectedInvoices.length>0&&selectedInvoices.length<invoices.length;var selectedAllInvoices=selectedInvoices.length===invoices.length;return(/*#__PURE__*/React.createElement(Card,Object.assign({className:clsx(classes.root,className)},rest),/*#__PURE__*/React.createElement(Box,{p:2},/*#__PURE__*/React.createElement(Box,{display:\"flex\",alignItems:\"center\"},/*#__PURE__*/React.createElement(TextField,{className:classes.queryField,InputProps:{startAdornment:/*#__PURE__*/React.createElement(InputAdornment,{position:\"start\"},/*#__PURE__*/React.createElement(SvgIcon,{fontSize:\"small\",color:\"action\"},/*#__PURE__*/React.createElement(SearchIcon,null)))},onChange:handleQueryChange,placeholder:\"Search invoices by customer\",value:query,variant:\"outlined\"}),/*#__PURE__*/React.createElement(Box,{flexGrow:1}),/*#__PURE__*/React.createElement(TextField,{label:\"Sort By\",name:\"sort\",onChange:handleSortChange,select:true,SelectProps:{native:true},value:sort,variant:\"outlined\"},sortOptions.map(function(option){return(/*#__PURE__*/React.createElement(\"option\",{key:option.value,value:option.value},option.label));}))),/*#__PURE__*/React.createElement(Box,{mt:2,display:\"flex\",alignItems:\"center\"},/*#__PURE__*/React.createElement(TextField,{className:classes.statusField,label:\"Status\",name:\"status\",onChange:handleStatusChange,select:true,SelectProps:{native:true},value:filters.status||'all',variant:\"outlined\"},statusOptions.map(function(statusOption){return(/*#__PURE__*/React.createElement(\"option\",{key:statusOption.id,value:statusOption.id},statusOption.name));})))),enableBulkOperations&&/*#__PURE__*/React.createElement(\"div\",{className:classes.bulkOperations},/*#__PURE__*/React.createElement(\"div\",{className:classes.bulkActions},/*#__PURE__*/React.createElement(Checkbox,{checked:selectedAllInvoices,indeterminate:selectedSomeInvoices,onChange:handleSelectAllInvoices}),/*#__PURE__*/React.createElement(Button,{variant:\"outlined\",className:classes.bulkAction},\"Delete\"),/*#__PURE__*/React.createElement(Button,{variant:\"outlined\",className:classes.bulkAction},\"Edit\"))),/*#__PURE__*/React.createElement(PerfectScrollbar,null,/*#__PURE__*/React.createElement(Box,{minWidth:1200},/*#__PURE__*/React.createElement(Table,null,/*#__PURE__*/React.createElement(TableHead,null,/*#__PURE__*/React.createElement(TableRow,null,/*#__PURE__*/React.createElement(TableCell,{padding:\"checkbox\"},/*#__PURE__*/React.createElement(Checkbox,{checked:selectedAllInvoices,indeterminate:selectedSomeInvoices,onChange:handleSelectAllInvoices})),/*#__PURE__*/React.createElement(TableCell,null,\"Customer\"),/*#__PURE__*/React.createElement(TableCell,null,\"Status\"),/*#__PURE__*/React.createElement(TableCell,null,\"Amount\"),/*#__PURE__*/React.createElement(TableCell,null,\"ID\"),/*#__PURE__*/React.createElement(TableCell,null,\"Date\"),/*#__PURE__*/React.createElement(TableCell,{align:\"right\"},\"Actions\"))),/*#__PURE__*/React.createElement(TableBody,null,paginatedInvoices.map(function(invoice){var isInvoiceSelected=selectedInvoices.includes(invoice.id);return(/*#__PURE__*/React.createElement(TableRow,{hover:true,key:invoice.id,selected:isInvoiceSelected},/*#__PURE__*/React.createElement(TableCell,{padding:\"checkbox\"},/*#__PURE__*/React.createElement(Checkbox,{checked:isInvoiceSelected,onChange:function onChange(event){return handleSelectOneInvoice(event,invoice.id);},value:isInvoiceSelected})),/*#__PURE__*/React.createElement(TableCell,null,/*#__PURE__*/React.createElement(Box,{display:\"flex\",alignItems:\"center\"},/*#__PURE__*/React.createElement(Avatar,{className:classes.avatar},getInitials(invoice.customer.name)),/*#__PURE__*/React.createElement(Box,{ml:2},/*#__PURE__*/React.createElement(Link,{variant:\"subtitle2\",color:\"textPrimary\",component:RouterLink,underline:\"none\",to:\"#\"},invoice.customer.name),/*#__PURE__*/React.createElement(Typography,{variant:\"body2\",color:\"textSecondary\"},invoice.customer.email)))),/*#__PURE__*/React.createElement(TableCell,null,getStatusLabel(invoice.status)),/*#__PURE__*/React.createElement(TableCell,null,invoice.currency,invoice.amount.toFixed(2)),/*#__PURE__*/React.createElement(TableCell,null,invoice.id),/*#__PURE__*/React.createElement(TableCell,null,moment(invoice.createdAt).format('DD/MM/YYYY')),/*#__PURE__*/React.createElement(TableCell,{align:\"right\"},/*#__PURE__*/React.createElement(IconButton,{component:RouterLink,to:\"#\"},/*#__PURE__*/React.createElement(SvgIcon,{fontSize:\"small\"},/*#__PURE__*/React.createElement(EditIcon,null))),/*#__PURE__*/React.createElement(IconButton,{component:RouterLink,to:\"/app/management/invoices/1\"},/*#__PURE__*/React.createElement(SvgIcon,{fontSize:\"small\"},/*#__PURE__*/React.createElement(ArrowRightIcon,null))))));}))))),/*#__PURE__*/React.createElement(TablePagination,{component:\"div\",count:filteredInvoices.length,onChangePage:handlePageChange,onChangeRowsPerPage:handleLimitChange,page:page,rowsPerPage:limit,rowsPerPageOptions:[5,10,25]})));}Results.defaultProps={invoices:[]};export default Results;","map":{"version":3,"sources":["/Users/redhan/Desktop/work/Ecom-Admin/src/views/management/InvoiceListView/Results.js"],"names":["React","useState","Link","RouterLink","clsx","moment","PerfectScrollbar","Avatar","Box","Button","Card","Checkbox","InputAdornment","IconButton","SvgIcon","Table","TableBody","TableCell","TableHead","TablePagination","TableRow","TextField","Typography","colors","makeStyles","Edit","EditIcon","ArrowRight","ArrowRightIcon","Search","SearchIcon","Label","getInitials","statusOptions","id","name","sortOptions","value","label","getStatusLabel","inventoryType","map","paid","text","color","pending","canceled","applyFilters","invoices","query","filters","filter","invoice","matches","properties","containsQuery","forEach","property","customer","toLowerCase","includes","status","applyPagination","customers","page","limit","slice","useStyles","theme","root","queryField","width","statusField","flexBasis","bulkOperations","position","bulkActions","paddingLeft","paddingRight","marginTop","zIndex","backgroundColor","palette","background","default","bulkAction","marginLeft","spacing","avatar","red","common","white","Results","className","rest","classes","selectedInvoices","setSelectedInvoices","setPage","setLimit","setQuery","sort","setSort","setFilters","handleQueryChange","event","persist","target","handleStatusChange","prevFilters","handleSortChange","handleSelectAllInvoices","checked","handleSelectOneInvoice","invoiceId","prevSelected","handlePageChange","newPage","handleLimitChange","filteredInvoices","paginatedInvoices","enableBulkOperations","length","selectedSomeInvoices","selectedAllInvoices","startAdornment","native","option","statusOption","isInvoiceSelected","email","currency","amount","toFixed","createdAt","format","defaultProps"],"mappings":"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","sourcesContent":["/* eslint-disable max-len */\nimport React, { useState } from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\nimport clsx from 'clsx';\nimport moment from 'moment';\nimport PropTypes from 'prop-types';\nimport PerfectScrollbar from 'react-perfect-scrollbar';\nimport {\n  Avatar,\n  Box,\n  Button,\n  Card,\n  Checkbox,\n  InputAdornment,\n  IconButton,\n  Link,\n  SvgIcon,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TablePagination,\n  TableRow,\n  TextField,\n  Typography,\n  colors,\n  makeStyles\n} from '@material-ui/core';\nimport {\n  Edit as EditIcon,\n  ArrowRight as ArrowRightIcon,\n  Search as SearchIcon\n} from 'react-feather';\nimport Label from 'src/components/Label';\nimport getInitials from 'src/utils/getInitials';\n\nconst statusOptions = [\n  {\n    id: 'all',\n    name: 'All'\n  },\n  {\n    id: 'paid',\n    name: 'Paid'\n  },\n  {\n    id: 'pending',\n    name: 'Pending'\n  },\n  {\n    id: 'canceled',\n    name: 'Canceled'\n  }\n];\n\nconst sortOptions = [\n  {\n    value: 'createdAt|desc',\n    label: 'Newest first'\n  },\n  {\n    value: 'createdAt|asc',\n    label: 'Oldest first'\n  }\n];\n\nfunction getStatusLabel(inventoryType) {\n  const map = {\n    paid: {\n      text: 'Paid',\n      color: 'success'\n    },\n    pending: {\n      text: 'Pending',\n      color: 'warning'\n    },\n    canceled: {\n      text: 'Canceled',\n      color: 'error'\n    }\n  };\n\n  const { text, color } = map[inventoryType];\n\n  return (\n    <Label color={color}>\n      {text}\n    </Label>\n  );\n}\n\nfunction applyFilters(invoices, query, filters) {\n  return invoices.filter((invoice) => {\n    let matches = true;\n\n    if (query) {\n      const properties = ['name', 'email'];\n      let containsQuery = false;\n\n      properties.forEach((property) => {\n        if (invoice.customer[property].toLowerCase().includes(query.toLowerCase())) {\n          containsQuery = true;\n        }\n      });\n\n      if (!containsQuery) {\n        matches = false;\n      }\n    }\n\n    if (filters.status && invoice.status !== filters.status) {\n      matches = false;\n    }\n\n    return matches;\n  });\n}\n\nfunction applyPagination(customers, page, limit) {\n  return customers.slice(page * limit, page * limit + limit);\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {},\n  queryField: {\n    width: 500\n  },\n  statusField: {\n    flexBasis: 200\n  },\n  bulkOperations: {\n    position: 'relative'\n  },\n  bulkActions: {\n    paddingLeft: 4,\n    paddingRight: 4,\n    marginTop: 6,\n    position: 'absolute',\n    width: '100%',\n    zIndex: 2,\n    backgroundColor: theme.palette.background.default\n  },\n  bulkAction: {\n    marginLeft: theme.spacing(2)\n  },\n  avatar: {\n    backgroundColor: colors.red[500],\n    color: colors.common.white\n  }\n}));\n\nfunction Results({ className, invoices, ...rest }) {\n  const classes = useStyles();\n  const [selectedInvoices, setSelectedInvoices] = useState([]);\n  const [page, setPage] = useState(0);\n  const [limit, setLimit] = useState(10);\n  const [query, setQuery] = useState('');\n  const [sort, setSort] = useState(sortOptions[0].value);\n  const [filters, setFilters] = useState({\n    status: null\n  });\n\n  const handleQueryChange = (event) => {\n    event.persist();\n    setQuery(event.target.value);\n  };\n\n  const handleStatusChange = (event) => {\n    event.persist();\n\n    let value = null;\n\n    if (event.target.value !== 'all') {\n      value = event.target.value;\n    }\n\n    setFilters((prevFilters) => ({\n      ...prevFilters,\n      status: value\n    }));\n  };\n\n  const handleSortChange = (event) => {\n    event.persist();\n    setSort(event.target.value);\n  };\n\n  const handleSelectAllInvoices = (event) => {\n    setSelectedInvoices(event.target.checked\n      ? invoices.map((invoice) => invoice.id)\n      : []);\n  };\n\n  const handleSelectOneInvoice = (event, invoiceId) => {\n    if (!selectedInvoices.includes(invoiceId)) {\n      setSelectedInvoices((prevSelected) => [...prevSelected, invoiceId]);\n    } else {\n      setSelectedInvoices((prevSelected) => prevSelected.filter((id) => id !== invoiceId));\n    }\n  };\n\n  const handlePageChange = (event, newPage) => {\n    setPage(newPage);\n  };\n\n  const handleLimitChange = (event) => {\n    setLimit(event.target.value);\n  };\n\n  // Usually query is done on backend with indexing solutions\n  const filteredInvoices = applyFilters(invoices, query, filters);\n  const paginatedInvoices = applyPagination(filteredInvoices, page, limit);\n  const enableBulkOperations = selectedInvoices.length > 0;\n  const selectedSomeInvoices = selectedInvoices.length > 0 && selectedInvoices.length < invoices.length;\n  const selectedAllInvoices = selectedInvoices.length === invoices.length;\n\n  return (\n    <Card\n      className={clsx(classes.root, className)}\n      {...rest}\n    >\n      <Box p={2}>\n        <Box\n          display=\"flex\"\n          alignItems=\"center\"\n        >\n          <TextField\n            className={classes.queryField}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SvgIcon\n                    fontSize=\"small\"\n                    color=\"action\"\n                  >\n                    <SearchIcon />\n                  </SvgIcon>\n                </InputAdornment>\n              )\n            }}\n            onChange={handleQueryChange}\n            placeholder=\"Search invoices by customer\"\n            value={query}\n            variant=\"outlined\"\n          />\n          <Box flexGrow={1} />\n          <TextField\n            label=\"Sort By\"\n            name=\"sort\"\n            onChange={handleSortChange}\n            select\n            SelectProps={{ native: true }}\n            value={sort}\n            variant=\"outlined\"\n          >\n            {sortOptions.map((option) => (\n              <option\n                key={option.value}\n                value={option.value}\n              >\n                {option.label}\n              </option>\n            ))}\n          </TextField>\n        </Box>\n        <Box\n          mt={2}\n          display=\"flex\"\n          alignItems=\"center\"\n        >\n          <TextField\n            className={classes.statusField}\n            label=\"Status\"\n            name=\"status\"\n            onChange={handleStatusChange}\n            select\n            SelectProps={{ native: true }}\n            value={filters.status || 'all'}\n            variant=\"outlined\"\n          >\n            {statusOptions.map((statusOption) => (\n              <option\n                key={statusOption.id}\n                value={statusOption.id}\n              >\n                {statusOption.name}\n              </option>\n            ))}\n          </TextField>\n        </Box>\n      </Box>\n      {enableBulkOperations && (\n        <div className={classes.bulkOperations}>\n          <div className={classes.bulkActions}>\n            <Checkbox\n              checked={selectedAllInvoices}\n              indeterminate={selectedSomeInvoices}\n              onChange={handleSelectAllInvoices}\n            />\n            <Button\n              variant=\"outlined\"\n              className={classes.bulkAction}\n            >\n              Delete\n            </Button>\n            <Button\n              variant=\"outlined\"\n              className={classes.bulkAction}\n            >\n              Edit\n            </Button>\n          </div>\n        </div>\n      )}\n      <PerfectScrollbar>\n        <Box minWidth={1200}>\n          <Table>\n            <TableHead>\n              <TableRow>\n                <TableCell padding=\"checkbox\">\n                  <Checkbox\n                    checked={selectedAllInvoices}\n                    indeterminate={selectedSomeInvoices}\n                    onChange={handleSelectAllInvoices}\n                  />\n                </TableCell>\n                <TableCell>\n                  Customer\n                </TableCell>\n                <TableCell>\n                  Status\n                </TableCell>\n                <TableCell>\n                  Amount\n                </TableCell>\n                <TableCell>\n                  ID\n                </TableCell>\n                <TableCell>\n                  Date\n                </TableCell>\n                <TableCell align=\"right\">\n                  Actions\n                </TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {paginatedInvoices.map((invoice) => {\n                const isInvoiceSelected = selectedInvoices.includes(invoice.id);\n\n                return (\n                  <TableRow\n                    hover\n                    key={invoice.id}\n                    selected={isInvoiceSelected}\n                  >\n                    <TableCell padding=\"checkbox\">\n                      <Checkbox\n                        checked={isInvoiceSelected}\n                        onChange={(event) => handleSelectOneInvoice(event, invoice.id)}\n                        value={isInvoiceSelected}\n                      />\n                    </TableCell>\n                    <TableCell>\n                      <Box\n                        display=\"flex\"\n                        alignItems=\"center\"\n                      >\n                        <Avatar className={classes.avatar}>\n                          {getInitials(invoice.customer.name)}\n                        </Avatar>\n                        <Box ml={2}>\n                          <Link\n                            variant=\"subtitle2\"\n                            color=\"textPrimary\"\n                            component={RouterLink}\n                            underline=\"none\"\n                            to=\"#\"\n                          >\n                            {invoice.customer.name}\n                          </Link>\n                          <Typography\n                            variant=\"body2\"\n                            color=\"textSecondary\"\n                          >\n                            {invoice.customer.email}\n                          </Typography>\n                        </Box>\n                      </Box>\n                    </TableCell>\n                    <TableCell>\n                      {getStatusLabel(invoice.status)}\n                    </TableCell>\n                    <TableCell>\n                      {invoice.currency}\n                      {invoice.amount.toFixed(2)}\n                    </TableCell>\n                    <TableCell>\n                      {invoice.id}\n                    </TableCell>\n                    <TableCell>\n                      {moment(invoice.createdAt).format('DD/MM/YYYY')}\n                    </TableCell>\n                    <TableCell align=\"right\">\n                      <IconButton\n                        component={RouterLink}\n                        to=\"#\"\n                      >\n                        <SvgIcon fontSize=\"small\">\n                          <EditIcon />\n                        </SvgIcon>\n                      </IconButton>\n                      <IconButton\n                        component={RouterLink}\n                        to=\"/app/management/invoices/1\"\n                      >\n                        <SvgIcon fontSize=\"small\">\n                          <ArrowRightIcon />\n                        </SvgIcon>\n                      </IconButton>\n                    </TableCell>\n                  </TableRow>\n                );\n              })}\n            </TableBody>\n          </Table>\n        </Box>\n      </PerfectScrollbar>\n      <TablePagination\n        component=\"div\"\n        count={filteredInvoices.length}\n        onChangePage={handlePageChange}\n        onChangeRowsPerPage={handleLimitChange}\n        page={page}\n        rowsPerPage={limit}\n        rowsPerPageOptions={[5, 10, 25]}\n      />\n    </Card>\n  );\n}\n\nResults.propTypes = {\n  className: PropTypes.string,\n  invoices: PropTypes.array\n};\n\nResults.defaultProps = {\n  invoices: []\n};\n\nexport default Results;\n"]},"metadata":{},"sourceType":"module"}