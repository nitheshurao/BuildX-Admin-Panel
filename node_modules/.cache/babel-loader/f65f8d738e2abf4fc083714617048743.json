{"ast":null,"code":"import _regeneratorRuntime from \"/Users/redhan/Desktop/work/Ecom-Admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/redhan/Desktop/work/Ecom-Admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _objectWithoutProperties from \"/Users/redhan/Desktop/work/Ecom-Admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"/Users/redhan/Desktop/work/Ecom-Admin/src/views/kanban/KanbanView/CardEditModal/index.js\";\nimport React from 'react';\nimport { useDispatch } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { useSnackbar } from 'notistack';\nimport { Box, Dialog, Divider, Grid, Typography, makeStyles, IconButton, SvgIcon } from '@material-ui/core';\nimport { XCircle as CloseIcon, Eye as EyeIcon, EyeOff as EyeOffIcon, ArrowRight as ArrowRightIcon, Archive as ArchiveIcon, CheckSquare as CheckIcon, Copy as CopyIcon, Users as UsersIcon, File as FileIcon, Layout as LayoutIcon } from 'react-feather';\nimport { deleteCard, updateCard, addChecklist } from 'src/actions/kanbanActions';\nimport Details from './Details';\nimport Checklist from './Checklist';\nimport NewComment from './NewComment';\nimport Comment from './Comment';\nimport ActionButton from './ActionButton';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      padding: theme.spacing(3)\n    },\n    listName: {\n      fontWeight: theme.typography.fontWeightMedium\n    },\n    checklist: {\n      '& + &': {\n        marginTop: theme.spacing(3)\n      }\n    }\n  };\n});\n\nfunction CardEditModal(_ref) {\n  var _this = this;\n\n  var card = _ref.card,\n      className = _ref.className,\n      list = _ref.list,\n      onClose = _ref.onClose,\n      open = _ref.open,\n      rest = _objectWithoutProperties(_ref, [\"card\", \"className\", \"list\", \"onClose\", \"open\"]);\n\n  var classes = useStyles();\n  var dispatch = useDispatch();\n\n  var _useSnackbar = useSnackbar(),\n      enqueueSnackbar = _useSnackbar.enqueueSnackbar;\n\n  var handleSubscribe =\n  /*#__PURE__*/\n  function () {\n    var _ref2 = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return dispatch(updateCard(card.id, {\n                isSubscribed: true\n              }));\n\n            case 3:\n              enqueueSnackbar('Unsubscribed', {\n                variant: 'success'\n              });\n              _context.next = 9;\n              break;\n\n            case 6:\n              _context.prev = 6;\n              _context.t0 = _context[\"catch\"](0);\n              enqueueSnackbar('Ooops!', {\n                variant: 'error'\n              });\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 6]]);\n    }));\n\n    return function handleSubscribe() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var handleUnsubscribe =\n  /*#__PURE__*/\n  function () {\n    var _ref3 = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return dispatch(updateCard(card.id, {\n                isSubscribed: false\n              }));\n\n            case 3:\n              enqueueSnackbar('Subscribed', {\n                variant: 'success'\n              });\n              _context2.next = 9;\n              break;\n\n            case 6:\n              _context2.prev = 6;\n              _context2.t0 = _context2[\"catch\"](0);\n              enqueueSnackbar('Ooops!', {\n                variant: 'error'\n              });\n\n            case 9:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 6]]);\n    }));\n\n    return function handleUnsubscribe() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var handleDelete =\n  /*#__PURE__*/\n  function () {\n    var _ref4 = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee3() {\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.prev = 0;\n              _context3.next = 3;\n              return dispatch(deleteCard(card.id));\n\n            case 3:\n              enqueueSnackbar('Card archived', {\n                variant: 'success'\n              });\n              _context3.next = 9;\n              break;\n\n            case 6:\n              _context3.prev = 6;\n              _context3.t0 = _context3[\"catch\"](0);\n              enqueueSnackbar('Ooops!', {\n                variant: 'error'\n              });\n\n            case 9:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[0, 6]]);\n    }));\n\n    return function handleDelete() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  var handleAddChecklist =\n  /*#__PURE__*/\n  function () {\n    var _ref5 = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee4() {\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.prev = 0;\n              _context4.next = 3;\n              return dispatch(addChecklist(card.id, 'Untitled Checklist'));\n\n            case 3:\n              enqueueSnackbar('Checklist added', {\n                variant: 'success'\n              });\n              _context4.next = 9;\n              break;\n\n            case 6:\n              _context4.prev = 6;\n              _context4.t0 = _context4[\"catch\"](0);\n              enqueueSnackbar('Ooops!', {\n                variant: 'error'\n              });\n\n            case 9:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, null, [[0, 6]]);\n    }));\n\n    return function handleAddChecklist() {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n\n  return (\n    /*#__PURE__*/\n    React.createElement(Dialog, Object.assign({\n      onClose: onClose,\n      open: open,\n      maxWidth: \"md\",\n      fullWidth: true\n    }, rest, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 5\n      }\n    }),\n    /*#__PURE__*/\n    React.createElement(\"div\", {\n      className: classes.root,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 7\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(Box, {\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(Typography, {\n      variant: \"body2\",\n      color: \"textSecondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 11\n      }\n    }, \"in list\", ' ',\n    /*#__PURE__*/\n    React.createElement(\"span\", {\n      className: classes.listName,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 13\n      }\n    }, list.name)),\n    /*#__PURE__*/\n    React.createElement(IconButton, {\n      onClick: onClose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 11\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(SvgIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 13\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(CloseIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 15\n      }\n    })))),\n    /*#__PURE__*/\n    React.createElement(Grid, {\n      container: true,\n      spacing: 5,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      sm: 8,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 11\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(Details, {\n      card: card,\n      list: list,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 13\n      }\n    }), card.checklists.length > 0 &&\n    /*#__PURE__*/\n    React.createElement(Box, {\n      mt: 5,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 15\n      }\n    }, card.checklists.map(function (checklist) {\n      return (\n        /*#__PURE__*/\n        React.createElement(Checklist, {\n          key: checklist.id,\n          card: card,\n          checklist: checklist,\n          className: classes.checklist,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 19\n          }\n        })\n      );\n    })),\n    /*#__PURE__*/\n    React.createElement(Box, {\n      mt: 3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 13\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(Typography, {\n      variant: \"h4\",\n      color: \"textPrimary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 15\n      }\n    }, \"Activity\"),\n    /*#__PURE__*/\n    React.createElement(Box, {\n      mt: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 15\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(NewComment, {\n      cardId: card.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 17\n      }\n    }), card.comments.length > 0 &&\n    /*#__PURE__*/\n    React.createElement(Box, {\n      mt: 3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 19\n      }\n    }, card.comments.map(function (comment) {\n      return (\n        /*#__PURE__*/\n        React.createElement(Comment, {\n          key: comment.id,\n          comment: comment,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 23\n          }\n        })\n      );\n    }))))),\n    /*#__PURE__*/\n    React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      sm: 4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 11\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(Typography, {\n      variant: \"overline\",\n      color: \"textSecondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 13\n      }\n    }, \"Add to card\"),\n    /*#__PURE__*/\n    React.createElement(ActionButton, {\n      icon: CheckIcon,\n      onClick: handleAddChecklist,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 13\n      }\n    }, \"Checklist\"),\n    /*#__PURE__*/\n    React.createElement(ActionButton, {\n      icon: UsersIcon,\n      disabled: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 13\n      }\n    }, \"Members\"),\n    /*#__PURE__*/\n    React.createElement(ActionButton, {\n      icon: UsersIcon,\n      disabled: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 13\n      }\n    }, \"Labels\"),\n    /*#__PURE__*/\n    React.createElement(ActionButton, {\n      icon: FileIcon,\n      disabled: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 13\n      }\n    }, \"Attachments\"),\n    /*#__PURE__*/\n    React.createElement(Box, {\n      mt: 3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 13\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(Typography, {\n      variant: \"overline\",\n      color: \"textSecondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 15\n      }\n    }, \"Actions\"),\n    /*#__PURE__*/\n    React.createElement(ActionButton, {\n      icon: ArrowRightIcon,\n      disabled: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 15\n      }\n    }, \"Move\"),\n    /*#__PURE__*/\n    React.createElement(ActionButton, {\n      icon: CopyIcon,\n      disabled: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 15\n      }\n    }, \"Copy\"),\n    /*#__PURE__*/\n    React.createElement(ActionButton, {\n      icon: LayoutIcon,\n      disabled: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 15\n      }\n    }, \"Make Template\"), card.isSubscribed ?\n    /*#__PURE__*/\n    React.createElement(ActionButton, {\n      icon: EyeOffIcon,\n      onClick: handleUnsubscribe,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 17\n      }\n    }, \"Unwatch\") :\n    /*#__PURE__*/\n    React.createElement(ActionButton, {\n      icon: EyeIcon,\n      onClick: handleSubscribe,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 17\n      }\n    }, \"Watch\"),\n    /*#__PURE__*/\n    React.createElement(Divider, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 15\n      }\n    }),\n    /*#__PURE__*/\n    React.createElement(ActionButton, {\n      icon: ArchiveIcon,\n      onClick: handleDelete,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 15\n      }\n    }, \"Archive\"))))))\n  );\n}\n\nCardEditModal.propTypes = {\n  card: PropTypes.object.isRequired,\n  className: PropTypes.string,\n  list: PropTypes.object.isRequired,\n  onClose: PropTypes.func,\n  open: PropTypes.bool\n};\nCardEditModal.defaultProps = {\n  open: false,\n  onClose: function onClose() {}\n};\nexport default CardEditModal;","map":{"version":3,"sources":["/Users/redhan/Desktop/work/Ecom-Admin/src/views/kanban/KanbanView/CardEditModal/index.js"],"names":["React","useDispatch","PropTypes","useSnackbar","Box","Dialog","Divider","Grid","Typography","makeStyles","IconButton","SvgIcon","XCircle","CloseIcon","Eye","EyeIcon","EyeOff","EyeOffIcon","ArrowRight","ArrowRightIcon","Archive","ArchiveIcon","CheckSquare","CheckIcon","Copy","CopyIcon","Users","UsersIcon","File","FileIcon","Layout","LayoutIcon","deleteCard","updateCard","addChecklist","Details","Checklist","NewComment","Comment","ActionButton","useStyles","theme","root","padding","spacing","listName","fontWeight","typography","fontWeightMedium","checklist","marginTop","CardEditModal","card","className","list","onClose","open","rest","classes","dispatch","enqueueSnackbar","handleSubscribe","id","isSubscribed","variant","handleUnsubscribe","handleDelete","handleAddChecklist","name","checklists","length","map","comments","comment","propTypes","object","isRequired","string","func","bool","defaultProps"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { useSnackbar } from 'notistack';\nimport {\n  Box,\n  Dialog,\n  Divider,\n  Grid,\n  Typography,\n  makeStyles,\n  IconButton,\n  SvgIcon\n} from '@material-ui/core';\nimport {\n  XCircle as CloseIcon,\n  Eye as EyeIcon,\n  EyeOff as EyeOffIcon,\n  ArrowRight as ArrowRightIcon,\n  Archive as ArchiveIcon,\n  CheckSquare as CheckIcon,\n  Copy as CopyIcon,\n  Users as UsersIcon,\n  File as FileIcon,\n  Layout as LayoutIcon\n} from 'react-feather';\nimport {\n  deleteCard,\n  updateCard,\n  addChecklist\n} from 'src/actions/kanbanActions';\nimport Details from './Details';\nimport Checklist from './Checklist';\nimport NewComment from './NewComment';\nimport Comment from './Comment';\nimport ActionButton from './ActionButton';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    padding: theme.spacing(3)\n  },\n  listName: {\n    fontWeight: theme.typography.fontWeightMedium\n  },\n  checklist: {\n    '& + &': {\n      marginTop: theme.spacing(3)\n    }\n  }\n}));\n\nfunction CardEditModal({\n  card,\n  className,\n  list,\n  onClose,\n  open,\n  ...rest\n}) {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const { enqueueSnackbar } = useSnackbar();\n\n  const handleSubscribe = async () => {\n    try {\n      await dispatch(updateCard(card.id, { isSubscribed: true }));\n      enqueueSnackbar('Unsubscribed', {\n        variant: 'success'\n      });\n    } catch (error) {\n      enqueueSnackbar('Ooops!', {\n        variant: 'error'\n      });\n    }\n  };\n\n  const handleUnsubscribe = async () => {\n    try {\n      await dispatch(updateCard(card.id, { isSubscribed: false }));\n      enqueueSnackbar('Subscribed', {\n        variant: 'success'\n      });\n    } catch (error) {\n      enqueueSnackbar('Ooops!', {\n        variant: 'error'\n      });\n    }\n  };\n\n  const handleDelete = async () => {\n    try {\n      await dispatch(deleteCard(card.id));\n      enqueueSnackbar('Card archived', {\n        variant: 'success'\n      });\n    } catch (error) {\n      enqueueSnackbar('Ooops!', {\n        variant: 'error'\n      });\n    }\n  };\n\n  const handleAddChecklist = async () => {\n    try {\n      await dispatch(addChecklist(card.id, 'Untitled Checklist'));\n      enqueueSnackbar('Checklist added', {\n        variant: 'success'\n      });\n    } catch (error) {\n      enqueueSnackbar('Ooops!', {\n        variant: 'error'\n      });\n    }\n  };\n\n  return (\n    <Dialog\n      onClose={onClose}\n      open={open}\n      maxWidth=\"md\"\n      fullWidth\n      {...rest}\n    >\n      <div className={classes.root}>\n        <Box\n          display=\"flex\"\n          justifyContent=\"space-between\"\n        >\n          <Typography\n            variant=\"body2\"\n            color=\"textSecondary\"\n          >\n            in list\n            {' '}\n            <span className={classes.listName}>\n              {list.name}\n            </span>\n          </Typography>\n          <IconButton onClick={onClose}>\n            <SvgIcon>\n              <CloseIcon />\n            </SvgIcon>\n          </IconButton>\n        </Box>\n        <Grid\n          container\n          spacing={5}\n        >\n          <Grid\n            item\n            xs={12}\n            sm={8}\n          >\n            <Details\n              card={card}\n              list={list}\n            />\n            {card.checklists.length > 0 && (\n              <Box mt={5}>\n                {card.checklists.map((checklist) => (\n                  <Checklist\n                    key={checklist.id}\n                    card={card}\n                    checklist={checklist}\n                    className={classes.checklist}\n                  />\n                ))}\n              </Box>\n            )}\n            <Box mt={3}>\n              <Typography\n                variant=\"h4\"\n                color=\"textPrimary\"\n              >\n                Activity\n              </Typography>\n              <Box mt={2}>\n                <NewComment cardId={card.id} />\n                {card.comments.length > 0 && (\n                  <Box mt={3}>\n                    {card.comments.map((comment) => (\n                      <Comment\n                        key={comment.id}\n                        comment={comment}\n                      />\n                    ))}\n                  </Box>\n                )}\n              </Box>\n            </Box>\n          </Grid>\n          <Grid\n            item\n            xs={12}\n            sm={4}\n          >\n            <Typography\n              variant=\"overline\"\n              color=\"textSecondary\"\n            >\n              Add to card\n            </Typography>\n            <ActionButton\n              icon={CheckIcon}\n              onClick={handleAddChecklist}\n            >\n              Checklist\n            </ActionButton>\n            <ActionButton\n              icon={UsersIcon}\n              disabled\n            >\n              Members\n            </ActionButton>\n            <ActionButton\n              icon={UsersIcon}\n              disabled\n            >\n              Labels\n            </ActionButton>\n            <ActionButton\n              icon={FileIcon}\n              disabled\n            >\n              Attachments\n            </ActionButton>\n            <Box mt={3}>\n              <Typography\n                variant=\"overline\"\n                color=\"textSecondary\"\n              >\n                Actions\n              </Typography>\n              <ActionButton\n                icon={ArrowRightIcon}\n                disabled\n              >\n                Move\n              </ActionButton>\n              <ActionButton\n                icon={CopyIcon}\n                disabled\n              >\n                Copy\n              </ActionButton>\n              <ActionButton\n                icon={LayoutIcon}\n                disabled\n              >\n                Make Template\n              </ActionButton>\n              {card.isSubscribed ? (\n                <ActionButton\n                  icon={EyeOffIcon}\n                  onClick={handleUnsubscribe}\n                >\n                  Unwatch\n                </ActionButton>\n              ) : (\n                <ActionButton\n                  icon={EyeIcon}\n                  onClick={handleSubscribe}\n                >\n                  Watch\n                </ActionButton>\n              )}\n              <Divider />\n              <ActionButton\n                icon={ArchiveIcon}\n                onClick={handleDelete}\n              >\n                Archive\n              </ActionButton>\n            </Box>\n          </Grid>\n        </Grid>\n      </div>\n    </Dialog>\n  );\n}\n\nCardEditModal.propTypes = {\n  card: PropTypes.object.isRequired,\n  className: PropTypes.string,\n  list: PropTypes.object.isRequired,\n  onClose: PropTypes.func,\n  open: PropTypes.bool\n};\n\nCardEditModal.defaultProps = {\n  open: false,\n  onClose: () => {}\n};\n\nexport default CardEditModal;\n"]},"metadata":{},"sourceType":"module"}