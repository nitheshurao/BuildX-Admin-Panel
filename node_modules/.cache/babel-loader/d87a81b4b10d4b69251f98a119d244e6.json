{"ast":null,"code":"import _regeneratorRuntime from\"/Users/redhan/Desktop/work/Ecom-Admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/redhan/Desktop/work/Ecom-Admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from'src/utils/axios';import authService from'src/services/authService';export var LOGIN_REQUEST='@account/login-request';export var LOGIN_SUCCESS='@account/login-success';export var LOGIN_FAILURE='@account/login-failure';export var SILENT_LOGIN='@account/silent-login';export var LOGOUT='@account/logout';export var REGISTER='@account/register';export var UPDATE_PROFILE='@account/update-profile';export function login(email,password){return(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var user;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;dispatch({type:LOGIN_REQUEST});_context.next=4;return authService.loginWithEmailAndPassword(email,password);case 4:user=_context.sent;dispatch({type:LOGIN_SUCCESS,payload:{user:user}});_context.next=12;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);dispatch({type:LOGIN_FAILURE});throw _context.t0;case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function(_x){return _ref.apply(this,arguments);};}());}export function setUserData(user){return function(dispatch){return dispatch({type:SILENT_LOGIN,payload:{user:user}});};}export function logout(){return(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:authService.logout();dispatch({type:LOGOUT});case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}());}export function register(){return true;}export function updateProfile(update){var request=axios.post('/api/account/profile',{update:update});return function(dispatch){request.then(function(response){return dispatch({type:UPDATE_PROFILE,payload:response.data});});};}","map":{"version":3,"sources":["/Users/redhan/Desktop/work/Ecom-Admin/src/actions/accountActions.js"],"names":["axios","authService","LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_FAILURE","SILENT_LOGIN","LOGOUT","REGISTER","UPDATE_PROFILE","login","email","password","dispatch","type","loginWithEmailAndPassword","user","payload","setUserData","logout","register","updateProfile","update","request","post","then","response","data"],"mappings":"qTAAA,MAAOA,CAAAA,KAAP,KAAkB,iBAAlB,CACA,MAAOC,CAAAA,WAAP,KAAwB,0BAAxB,CAEA,MAAO,IAAMC,CAAAA,aAAa,CAAG,wBAAtB,CACP,MAAO,IAAMC,CAAAA,aAAa,CAAG,wBAAtB,CACP,MAAO,IAAMC,CAAAA,aAAa,CAAG,wBAAtB,CACP,MAAO,IAAMC,CAAAA,YAAY,CAAG,uBAArB,CACP,MAAO,IAAMC,CAAAA,MAAM,CAAG,iBAAf,CACP,MAAO,IAAMC,CAAAA,QAAQ,CAAG,mBAAjB,CACP,MAAO,IAAMC,CAAAA,cAAc,CAAG,yBAAvB,CAEP,MAAO,SAASC,CAAAA,KAAT,CAAeC,KAAf,CAAsBC,QAAtB,CAAgC,CACrC,gGAAO,iBAAOC,QAAP,2IAEHA,QAAQ,CAAC,CAAEC,IAAI,CAAEX,aAAR,CAAD,CAAR,CAFG,sBAIgBD,CAAAA,WAAW,CAACa,yBAAZ,CAAsCJ,KAAtC,CAA6CC,QAA7C,CAJhB,QAIGI,IAJH,eAMHH,QAAQ,CAAC,CACPC,IAAI,CAAEV,aADC,CAEPa,OAAO,CAAE,CACPD,IAAI,CAAJA,IADO,CAFF,CAAD,CAAR,CANG,+EAaHH,QAAQ,CAAC,CAAEC,IAAI,CAAET,aAAR,CAAD,CAAR,CAbG,sFAAP,gEAiBD,CAED,MAAO,SAASa,CAAAA,WAAT,CAAqBF,IAArB,CAA2B,CAChC,MAAO,UAACH,QAAD,QAAcA,CAAAA,QAAQ,CAAC,CAC5BC,IAAI,CAAER,YADsB,CAE5BW,OAAO,CAAE,CACPD,IAAI,CAAJA,IADO,CAFmB,CAAD,CAAtB,EAAP,CAMD,CAED,MAAO,SAASG,CAAAA,MAAT,EAAkB,CACvB,iGAAO,kBAAON,QAAP,sHACLX,WAAW,CAACiB,MAAZ,GAEAN,QAAQ,CAAC,CACPC,IAAI,CAAEP,MADC,CAAD,CAAR,CAHK,wDAAP,kEAOD,CAED,MAAO,SAASa,CAAAA,QAAT,EAAoB,CACzB,MAAO,KAAP,CACD,CAED,MAAO,SAASC,CAAAA,aAAT,CAAuBC,MAAvB,CAA+B,CACpC,GAAMC,CAAAA,OAAO,CAAGtB,KAAK,CAACuB,IAAN,CAAW,sBAAX,CAAmC,CAAEF,MAAM,CAANA,MAAF,CAAnC,CAAhB,CAEA,MAAO,UAACT,QAAD,CAAc,CACnBU,OAAO,CAACE,IAAR,CAAa,SAACC,QAAD,QAAcb,CAAAA,QAAQ,CAAC,CAClCC,IAAI,CAAEL,cAD4B,CAElCQ,OAAO,CAAES,QAAQ,CAACC,IAFgB,CAAD,CAAtB,EAAb,EAID,CALD,CAMD","sourcesContent":["import axios from 'src/utils/axios';\nimport authService from 'src/services/authService';\n\nexport const LOGIN_REQUEST = '@account/login-request';\nexport const LOGIN_SUCCESS = '@account/login-success';\nexport const LOGIN_FAILURE = '@account/login-failure';\nexport const SILENT_LOGIN = '@account/silent-login';\nexport const LOGOUT = '@account/logout';\nexport const REGISTER = '@account/register';\nexport const UPDATE_PROFILE = '@account/update-profile';\n\nexport function login(email, password) {\n  return async (dispatch) => {\n    try {\n      dispatch({ type: LOGIN_REQUEST });\n\n      const user = await authService.loginWithEmailAndPassword(email, password);\n\n      dispatch({\n        type: LOGIN_SUCCESS,\n        payload: {\n          user\n        }\n      });\n    } catch (error) {\n      dispatch({ type: LOGIN_FAILURE });\n      throw error;\n    }\n  };\n}\n\nexport function setUserData(user) {\n  return (dispatch) => dispatch({\n    type: SILENT_LOGIN,\n    payload: {\n      user\n    }\n  });\n}\n\nexport function logout() {\n  return async (dispatch) => {\n    authService.logout();\n\n    dispatch({\n      type: LOGOUT\n    });\n  };\n}\n\nexport function register() {\n  return true;\n}\n\nexport function updateProfile(update) {\n  const request = axios.post('/api/account/profile', { update });\n\n  return (dispatch) => {\n    request.then((response) => dispatch({\n      type: UPDATE_PROFILE,\n      payload: response.data\n    }));\n  };\n}\n"]},"metadata":{},"sourceType":"module"}