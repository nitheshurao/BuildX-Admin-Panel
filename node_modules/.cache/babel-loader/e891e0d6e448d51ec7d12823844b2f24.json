{"ast":null,"code":"import _regeneratorRuntime from \"/Users/redhan/Desktop/work/Ecom-Admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/redhan/Desktop/work/Ecom-Admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/redhan/Desktop/work/Ecom-Admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/redhan/Desktop/work/Ecom-Admin/src/layouts/DashboardLayout/TopBar/Account.js\";\nimport React, { useRef, useState } from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\nimport { useHistory } from 'react-router';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useSnackbar } from 'notistack';\nimport { Avatar, Box, ButtonBase, Hidden, Menu, MenuItem, Typography, makeStyles } from '@material-ui/core';\nimport { logout } from 'src/actions/accountActions';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    avatar: {\n      height: 32,\n      width: 32,\n      marginRight: theme.spacing(1)\n    },\n    popover: {\n      width: 200\n    }\n  };\n});\n\nfunction Account() {\n  var classes = useStyles();\n  var history = useHistory();\n  var ref = useRef(null);\n  var dispatch = useDispatch();\n  var account = useSelector(function (state) {\n    return state.account;\n  });\n\n  var _useSnackbar = useSnackbar(),\n      enqueueSnackbar = _useSnackbar.enqueueSnackbar;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isOpen = _useState2[0],\n      setOpen = _useState2[1];\n\n  var handleOpen = function handleOpen() {\n    setOpen(true);\n  };\n\n  var handleClose = function handleClose() {\n    setOpen(false);\n  };\n\n  var handleLogout =\n  /*#__PURE__*/\n  function () {\n    var _ref = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              handleClose();\n              _context.next = 4;\n              return dispatch(logout());\n\n            case 4:\n              history.push('/');\n              _context.next = 10;\n              break;\n\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n              enqueueSnackbar('Unable to logout', {\n                variant: 'error'\n              });\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 7]]);\n    }));\n\n    return function handleLogout() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return (\n    /*#__PURE__*/\n    React.createElement(React.Fragment, null,\n    /*#__PURE__*/\n    React.createElement(Box, {\n      display: \"flex\",\n      alignItems: \"center\",\n      component: ButtonBase,\n      onClick: handleOpen,\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 7\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(Avatar, {\n      alt: \"User\",\n      className: classes.avatar,\n      src: account.user.avatar,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }\n    }),\n    /*#__PURE__*/\n    React.createElement(Hidden, {\n      smDown: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(Typography, {\n      variant: \"h6\",\n      color: \"inherit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }\n    }, \"\".concat(account.user.firstName, \" \").concat(account.user.lastName)))),\n    /*#__PURE__*/\n    React.createElement(Menu, {\n      onClose: handleClose,\n      anchorOrigin: {\n        vertical: 'bottom',\n        horizontal: 'center'\n      },\n      keepMounted: true,\n      PaperProps: {\n        className: classes.popover\n      },\n      getContentAnchorEl: null,\n      anchorEl: ref.current,\n      open: isOpen,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 7\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(MenuItem, {\n      component: RouterLink,\n      to: \"/app/social/profile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }\n    }, \"Profile\"),\n    /*#__PURE__*/\n    React.createElement(MenuItem, {\n      component: RouterLink,\n      to: \"/app/account\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }\n    }, \"Account\"),\n    /*#__PURE__*/\n    React.createElement(MenuItem, {\n      onClick: handleLogout,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }\n    }, \"Logout\")))\n  );\n}\n\nexport default Account;","map":{"version":3,"sources":["/Users/redhan/Desktop/work/Ecom-Admin/src/layouts/DashboardLayout/TopBar/Account.js"],"names":["React","useRef","useState","Link","RouterLink","useHistory","useDispatch","useSelector","useSnackbar","Avatar","Box","ButtonBase","Hidden","Menu","MenuItem","Typography","makeStyles","logout","useStyles","theme","avatar","height","width","marginRight","spacing","popover","Account","classes","history","ref","dispatch","account","state","enqueueSnackbar","isOpen","setOpen","handleOpen","handleClose","handleLogout","push","variant","user","firstName","lastName","vertical","horizontal","className","current"],"mappings":"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","sourcesContent":["import React, {\n  useRef,\n  useState\n} from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\nimport { useHistory } from 'react-router';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useSnackbar } from 'notistack';\nimport {\n  Avatar,\n  Box,\n  ButtonBase,\n  Hidden,\n  Menu,\n  MenuItem,\n  Typography,\n  makeStyles\n} from '@material-ui/core';\nimport { logout } from 'src/actions/accountActions';\n\nconst useStyles = makeStyles((theme) => ({\n  avatar: {\n    height: 32,\n    width: 32,\n    marginRight: theme.spacing(1)\n  },\n  popover: {\n    width: 200\n  }\n}));\n\nfunction Account() {\n  const classes = useStyles();\n  const history = useHistory();\n  const ref = useRef(null);\n  const dispatch = useDispatch();\n  const account = useSelector((state) => state.account);\n  const { enqueueSnackbar } = useSnackbar();\n  const [isOpen, setOpen] = useState(false);\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleLogout = async () => {\n    try {\n      handleClose();\n      await dispatch(logout());\n      history.push('/');\n    } catch (error) {\n      enqueueSnackbar('Unable to logout', {\n        variant: 'error'\n      });\n    }\n  };\n\n  return (\n    <>\n      <Box\n        display=\"flex\"\n        alignItems=\"center\"\n        component={ButtonBase}\n        onClick={handleOpen}\n        ref={ref}\n      >\n        <Avatar\n          alt=\"User\"\n          className={classes.avatar}\n          src={account.user.avatar}\n        />\n        <Hidden smDown>\n          <Typography\n            variant=\"h6\"\n            color=\"inherit\"\n          >\n            {`${account.user.firstName} ${account.user.lastName}`}\n          </Typography>\n        </Hidden>\n      </Box>\n      <Menu\n        onClose={handleClose}\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'center'\n        }}\n        keepMounted\n        PaperProps={{ className: classes.popover }}\n        getContentAnchorEl={null}\n        anchorEl={ref.current}\n        open={isOpen}\n      >\n        <MenuItem\n          component={RouterLink}\n          to=\"/app/social/profile\"\n        >\n          Profile\n        </MenuItem>\n        <MenuItem\n          component={RouterLink}\n          to=\"/app/account\"\n        >\n          Account\n        </MenuItem>\n        <MenuItem onClick={handleLogout}>\n          Logout\n        </MenuItem>\n      </Menu>\n    </>\n  );\n}\n\nexport default Account;\n"]},"metadata":{},"sourceType":"module"}