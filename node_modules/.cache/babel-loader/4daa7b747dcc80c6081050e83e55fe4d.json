{"ast":null,"code":"import _slicedToArray from\"/Users/redhan/Desktop/work/Ecom-Admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectWithoutProperties from\"/Users/redhan/Desktop/work/Ecom-Admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import React,{useState,useEffect,useCallback}from'react';import clsx from'clsx';import{makeStyles}from'@material-ui/core';import axios from'src/utils/axios';import useIsMountedRef from'src/hooks/useIsMountedRef';import OverallReviews from'./OverallReviews';import ReviewCard from'./ReviewCard';var useStyles=makeStyles(function(theme){return{root:{},review:{marginTop:theme.spacing(2)}};});function Reviews(_ref){var className=_ref.className,rest=_objectWithoutProperties(_ref,[\"className\"]);var classes=useStyles();var isMountedRef=useIsMountedRef();var _useState=useState(null),_useState2=_slicedToArray(_useState,2),reviews=_useState2[0],setReviews=_useState2[1];var getReviews=useCallback(function(){if(isMountedRef.current){axios.get('/api/social/users/1/reviews').then(function(response){return setReviews(response.data.reviews);});}},[isMountedRef]);useEffect(function(){getReviews();},[getReviews]);if(!reviews){return null;}return(/*#__PURE__*/React.createElement(\"div\",Object.assign({className:clsx(classes.root,className)},rest),/*#__PURE__*/React.createElement(OverallReviews,{ratings:reviews.map(function(review){return review.rating;})}),reviews.map(function(review){return(/*#__PURE__*/React.createElement(ReviewCard,{className:classes.review,key:review.id,review:review}));})));}export default Reviews;","map":{"version":3,"sources":["/Users/redhan/Desktop/work/Ecom-Admin/src/views/social/ProfileView/Reviews/index.js"],"names":["React","useState","useEffect","useCallback","clsx","makeStyles","axios","useIsMountedRef","OverallReviews","ReviewCard","useStyles","theme","root","review","marginTop","spacing","Reviews","className","rest","classes","isMountedRef","reviews","setReviews","getReviews","current","get","then","response","data","map","rating","id"],"mappings":"4UAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,CAAqCC,WAArC,KAAwD,OAAxD,CAEA,MAAOC,CAAAA,IAAP,KAAiB,MAAjB,CACA,OAASC,UAAT,KAA2B,mBAA3B,CACA,MAAOC,CAAAA,KAAP,KAAkB,iBAAlB,CACA,MAAOC,CAAAA,eAAP,KAA4B,2BAA5B,CACA,MAAOC,CAAAA,cAAP,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CAEA,GAAMC,CAAAA,SAAS,CAAGL,UAAU,CAAC,SAACM,KAAD,QAAY,CACvCC,IAAI,CAAE,EADiC,CAEvCC,MAAM,CAAE,CACNC,SAAS,CAAEH,KAAK,CAACI,OAAN,CAAc,CAAd,CADL,CAF+B,CAAZ,EAAD,CAA5B,CAOA,QAASC,CAAAA,OAAT,MAAyC,IAAtBC,CAAAA,SAAsB,MAAtBA,SAAsB,CAARC,IAAQ,8CACvC,GAAMC,CAAAA,OAAO,CAAGT,SAAS,EAAzB,CACA,GAAMU,CAAAA,YAAY,CAAGb,eAAe,EAApC,CAFuC,cAGTN,QAAQ,CAAC,IAAD,CAHC,wCAGhCoB,OAHgC,eAGvBC,UAHuB,eAKvC,GAAMC,CAAAA,UAAU,CAAGpB,WAAW,CAAC,UAAM,CACnC,GAAIiB,YAAY,CAACI,OAAjB,CAA0B,CACxBlB,KAAK,CACFmB,GADH,CACO,6BADP,EAEGC,IAFH,CAEQ,SAACC,QAAD,QAAcL,CAAAA,UAAU,CAACK,QAAQ,CAACC,IAAT,CAAcP,OAAf,CAAxB,EAFR,EAGD,CACF,CAN6B,CAM3B,CAACD,YAAD,CAN2B,CAA9B,CAQAlB,SAAS,CAAC,UAAM,CACdqB,UAAU,GACX,CAFQ,CAEN,CAACA,UAAD,CAFM,CAAT,CAIA,GAAI,CAACF,OAAL,CAAc,CACZ,MAAO,KAAP,CACD,CAED,oBACE,yCACE,SAAS,CAAEjB,IAAI,CAACe,OAAO,CAACP,IAAT,CAAeK,SAAf,CADjB,EAEMC,IAFN,eAIE,oBAAC,cAAD,EAAgB,OAAO,CAAEG,OAAO,CAACQ,GAAR,CAAY,SAAChB,MAAD,QAAYA,CAAAA,MAAM,CAACiB,MAAnB,EAAZ,CAAzB,EAJF,CAKGT,OAAO,CAACQ,GAAR,CAAY,SAAChB,MAAD,sBACX,oBAAC,UAAD,EACE,SAAS,CAAEM,OAAO,CAACN,MADrB,CAEE,GAAG,CAAEA,MAAM,CAACkB,EAFd,CAGE,MAAM,CAAElB,MAHV,EADW,GAAZ,CALH,CADF,EAeD,CAMD,cAAeG,CAAAA,OAAf","sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { makeStyles } from '@material-ui/core';\nimport axios from 'src/utils/axios';\nimport useIsMountedRef from 'src/hooks/useIsMountedRef';\nimport OverallReviews from './OverallReviews';\nimport ReviewCard from './ReviewCard';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {},\n  review: {\n    marginTop: theme.spacing(2)\n  }\n}));\n\nfunction Reviews({ className, ...rest }) {\n  const classes = useStyles();\n  const isMountedRef = useIsMountedRef();\n  const [reviews, setReviews] = useState(null);\n\n  const getReviews = useCallback(() => {\n    if (isMountedRef.current) {\n      axios\n        .get('/api/social/users/1/reviews')\n        .then((response) => setReviews(response.data.reviews));\n    }\n  }, [isMountedRef]);\n\n  useEffect(() => {\n    getReviews();\n  }, [getReviews]);\n\n  if (!reviews) {\n    return null;\n  }\n\n  return (\n    <div\n      className={clsx(classes.root, className)}\n      {...rest}\n    >\n      <OverallReviews ratings={reviews.map((review) => review.rating)} />\n      {reviews.map((review) => (\n        <ReviewCard\n          className={classes.review}\n          key={review.id}\n          review={review}\n        />\n      ))}\n    </div>\n  );\n}\n\nReviews.propTypes = {\n  className: PropTypes.string\n};\n\nexport default Reviews;\n"]},"metadata":{},"sourceType":"module"}