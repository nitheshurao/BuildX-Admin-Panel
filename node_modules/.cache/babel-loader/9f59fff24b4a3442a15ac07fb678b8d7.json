{"ast":null,"code":"import _objectSpread from \"/Users/redhan/Desktop/work/Ecom-Admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _regeneratorRuntime from \"/Users/redhan/Desktop/work/Ecom-Admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/redhan/Desktop/work/Ecom-Admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/redhan/Desktop/work/Ecom-Admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"/Users/redhan/Desktop/work/Ecom-Admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"/Users/redhan/Desktop/work/Ecom-Admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/redhan/Desktop/work/Ecom-Admin/src/views/kanban/KanbanView/List.js\";\n\n/* eslint-disable no-shadow */\nimport React, { useState, useRef } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport { useSnackbar } from 'notistack';\nimport { Droppable, Draggable } from 'react-beautiful-dnd';\nimport { Box, ClickAwayListener, Divider, IconButton, Menu, MenuItem, Paper, SvgIcon, TextField, Typography, makeStyles } from '@material-ui/core';\nimport { MoreVertical as MoreIcon } from 'react-feather';\nimport { deleteList, clearList, updateList } from 'src/actions/kanbanActions';\nimport Card from './Card';\nimport CardAdd from './CardAdd';\n\nfunction selectList(state, listId) {\n  var lists = state.kanban.lists;\n  return lists.byId[listId];\n}\n\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {},\n    inner: _defineProperty({\n      marginLeft: theme.spacing(1),\n      marginRight: theme.spacing(1),\n      display: 'flex',\n      flexDirection: 'column',\n      maxHeight: '100%',\n      overflowY: 'hidden',\n      overflowX: 'hidden',\n      width: 380\n    }, theme.breakpoints.down('xs'), {\n      width: 300\n    }),\n    title: {\n      cursor: 'pointer'\n    },\n    droppableArea: {\n      flexGrow: 1,\n      overflowY: 'auto',\n      paddingTop: theme.spacing(1),\n      paddingBottom: theme.spacing(1),\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2)\n    },\n    menu: {\n      width: 240\n    }\n  };\n});\n\nfunction List(_ref) {\n  var _this = this;\n\n  var className = _ref.className,\n      listId = _ref.listId,\n      rest = _objectWithoutProperties(_ref, [\"className\", \"listId\"]);\n\n  var classes = useStyles();\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isMenuOpen = _useState2[0],\n      setMenuOpen = _useState2[1];\n\n  var list = useSelector(function (state) {\n    return selectList(state, listId);\n  });\n  var dispatch = useDispatch();\n  var moreRef = useRef(null);\n\n  var _useSnackbar = useSnackbar(),\n      enqueueSnackbar = _useSnackbar.enqueueSnackbar;\n\n  var _useState3 = useState(list.name),\n      _useState4 = _slicedToArray(_useState3, 2),\n      name = _useState4[0],\n      setName = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      isRenaming = _useState6[0],\n      setRenaming = _useState6[1];\n\n  var handleMenuOpen = function handleMenuOpen() {\n    setMenuOpen(true);\n  };\n\n  var handleMenuClose = function handleMenuClose() {\n    setMenuOpen(false);\n  };\n\n  var handleChange = function handleChange(event) {\n    event.persist();\n    setName(event.target.value);\n  };\n\n  var handleRenameInit = function handleRenameInit() {\n    setRenaming(true);\n    setMenuOpen(false);\n  };\n\n  var handleRename =\n  /*#__PURE__*/\n  function () {\n    var _ref2 = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var update;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n\n              if (name) {\n                _context.next = 5;\n                break;\n              }\n\n              setName(list.name);\n              setRenaming(false);\n              return _context.abrupt(\"return\");\n\n            case 5:\n              update = {\n                name: name\n              };\n              setRenaming(false);\n              _context.next = 9;\n              return dispatch(updateList(list.id, update));\n\n            case 9:\n              enqueueSnackbar('List updated', {\n                variant: 'success'\n              });\n              _context.next = 15;\n              break;\n\n            case 12:\n              _context.prev = 12;\n              _context.t0 = _context[\"catch\"](0);\n              enqueueSnackbar('Ooops!', {\n                variant: 'error'\n              });\n\n            case 15:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 12]]);\n    }));\n\n    return function handleRename() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var handleDelete =\n  /*#__PURE__*/\n  function () {\n    var _ref3 = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              setMenuOpen(false);\n              _context2.next = 4;\n              return dispatch(deleteList(list.id));\n\n            case 4:\n              enqueueSnackbar('List deleted', {\n                variant: 'success'\n              });\n              _context2.next = 10;\n              break;\n\n            case 7:\n              _context2.prev = 7;\n              _context2.t0 = _context2[\"catch\"](0);\n              enqueueSnackbar('Ooops!', {\n                variant: 'error'\n              });\n\n            case 10:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 7]]);\n    }));\n\n    return function handleDelete() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var handleClear =\n  /*#__PURE__*/\n  function () {\n    var _ref4 = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee3() {\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.prev = 0;\n              setMenuOpen(false);\n              _context3.next = 4;\n              return dispatch(clearList(list.id));\n\n            case 4:\n              enqueueSnackbar('List cleared', {\n                variant: 'success'\n              });\n              _context3.next = 10;\n              break;\n\n            case 7:\n              _context3.prev = 7;\n              _context3.t0 = _context3[\"catch\"](0);\n              enqueueSnackbar('Ooops!', {\n                variant: 'error'\n              });\n\n            case 10:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[0, 7]]);\n    }));\n\n    return function handleClear() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  return (\n    /*#__PURE__*/\n    React.createElement(\"div\", Object.assign({\n      className: clsx(classes.root, className)\n    }, rest, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 5\n      }\n    }),\n    /*#__PURE__*/\n    React.createElement(Paper, {\n      className: classes.inner,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 7\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(Box, {\n      py: 1,\n      px: 2,\n      display: \"flex\",\n      alignItems: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }\n    }, isRenaming ?\n    /*#__PURE__*/\n    React.createElement(ClickAwayListener, {\n      onClickAway: handleRename,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 13\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(TextField, {\n      value: name,\n      onBlur: handleRename,\n      onChange: handleChange,\n      variant: \"outlined\",\n      margin: \"dense\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 15\n      }\n    })) :\n    /*#__PURE__*/\n    React.createElement(Typography, {\n      color: \"inherit\",\n      variant: \"h5\",\n      className: classes.name,\n      onClick: handleRenameInit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 13\n      }\n    }, list.name),\n    /*#__PURE__*/\n    React.createElement(Box, {\n      flexGrow: 1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 11\n      }\n    }),\n    /*#__PURE__*/\n    React.createElement(IconButton, {\n      color: \"inherit\",\n      edge: \"end\",\n      variant: \"contained\",\n      onClick: handleMenuOpen,\n      ref: moreRef,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 11\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(SvgIcon, {\n      fontSize: \"small\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 13\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(MoreIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 15\n      }\n    })))),\n    /*#__PURE__*/\n    React.createElement(Divider, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 9\n      }\n    }),\n    /*#__PURE__*/\n    React.createElement(Droppable, {\n      droppableId: list.id,\n      type: \"card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }\n    }, function (provided) {\n      return (\n        /*#__PURE__*/\n        React.createElement(Box, {\n          minHeight: 80,\n          ref: provided.innerRef,\n          className: classes.droppableArea,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 13\n          }\n        }, list.cardIds.map(function (cardId, index) {\n          return (\n            /*#__PURE__*/\n            React.createElement(Draggable, {\n              draggableId: cardId,\n              index: index,\n              key: cardId,\n              __self: _this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 17\n              }\n            }, function (provided, snapshot) {\n              return (\n                /*#__PURE__*/\n                React.createElement(Card, Object.assign({\n                  cardId: cardId,\n                  dragging: snapshot.isDragging,\n                  index: index,\n                  key: cardId,\n                  list: list,\n                  ref: provided.innerRef,\n                  style: _objectSpread({}, provided.draggableProps.style)\n                }, provided.draggableProps, provided.dragHandleProps, {\n                  __self: _this,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 215,\n                    columnNumber: 21\n                  }\n                }))\n              );\n            })\n          );\n        }), provided.placeholder)\n      );\n    }),\n    /*#__PURE__*/\n    React.createElement(Divider, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }\n    }),\n    /*#__PURE__*/\n    React.createElement(Box, {\n      p: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 9\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(CardAdd, {\n      listId: list.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 11\n      }\n    })),\n    /*#__PURE__*/\n    React.createElement(Menu, {\n      keepMounted: true,\n      anchorEl: moreRef.current,\n      open: isMenuOpen,\n      onClose: handleMenuClose,\n      anchorOrigin: {\n        vertical: 'bottom',\n        horizontal: 'center'\n      },\n      PaperProps: {\n        className: classes.menu\n      },\n      getContentAnchorEl: null,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 9\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(MenuItem, {\n      onClick: handleRenameInit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 11\n      }\n    }, \"Rename\"),\n    /*#__PURE__*/\n    React.createElement(MenuItem, {\n      onClick: handleClear,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 11\n      }\n    }, \"Clear\"),\n    /*#__PURE__*/\n    React.createElement(MenuItem, {\n      onClick: handleDelete,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 11\n      }\n    }, \"Delete\"))))\n  );\n}\n\nList.propTypes = {\n  className: PropTypes.string,\n  listId: PropTypes.string.isRequired\n};\nexport default List;","map":{"version":3,"sources":["/Users/redhan/Desktop/work/Ecom-Admin/src/views/kanban/KanbanView/List.js"],"names":["React","useState","useRef","useDispatch","useSelector","clsx","PropTypes","useSnackbar","Droppable","Draggable","Box","ClickAwayListener","Divider","IconButton","Menu","MenuItem","Paper","SvgIcon","TextField","Typography","makeStyles","MoreVertical","MoreIcon","deleteList","clearList","updateList","Card","CardAdd","selectList","state","listId","lists","kanban","byId","useStyles","theme","root","inner","marginLeft","spacing","marginRight","display","flexDirection","maxHeight","overflowY","overflowX","width","breakpoints","down","title","cursor","droppableArea","flexGrow","paddingTop","paddingBottom","paddingLeft","paddingRight","menu","List","className","rest","classes","isMenuOpen","setMenuOpen","list","dispatch","moreRef","enqueueSnackbar","name","setName","isRenaming","setRenaming","handleMenuOpen","handleMenuClose","handleChange","event","persist","target","value","handleRenameInit","handleRename","update","id","variant","handleDelete","handleClear","provided","innerRef","cardIds","map","cardId","index","snapshot","isDragging","draggableProps","style","dragHandleProps","placeholder","current","vertical","horizontal","propTypes","string","isRequired"],"mappings":"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","sourcesContent":["/* eslint-disable no-shadow */\nimport React, { useState, useRef } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport { useSnackbar } from 'notistack';\nimport {\n  Droppable,\n  Draggable\n} from 'react-beautiful-dnd';\nimport {\n  Box,\n  ClickAwayListener,\n  Divider,\n  IconButton,\n  Menu,\n  MenuItem,\n  Paper,\n  SvgIcon,\n  TextField,\n  Typography,\n  makeStyles\n} from '@material-ui/core';\nimport { MoreVertical as MoreIcon } from 'react-feather';\nimport {\n  deleteList,\n  clearList,\n  updateList\n} from 'src/actions/kanbanActions';\nimport Card from './Card';\nimport CardAdd from './CardAdd';\n\nfunction selectList(state, listId) {\n  const { lists } = state.kanban;\n\n  return lists.byId[listId];\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {},\n  inner: {\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1),\n    display: 'flex',\n    flexDirection: 'column',\n    maxHeight: '100%',\n    overflowY: 'hidden',\n    overflowX: 'hidden',\n    width: 380,\n    [theme.breakpoints.down('xs')]: {\n      width: 300\n    }\n  },\n  title: {\n    cursor: 'pointer'\n  },\n  droppableArea: {\n    flexGrow: 1,\n    overflowY: 'auto',\n    paddingTop: theme.spacing(1),\n    paddingBottom: theme.spacing(1),\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2)\n  },\n  menu: {\n    width: 240\n  }\n}));\n\nfunction List({\n  className,\n  listId,\n  ...rest\n}) {\n  const classes = useStyles();\n  const [isMenuOpen, setMenuOpen] = useState(false);\n  const list = useSelector((state) => selectList(state, listId));\n  const dispatch = useDispatch();\n  const moreRef = useRef(null);\n  const { enqueueSnackbar } = useSnackbar();\n  const [name, setName] = useState(list.name);\n  const [isRenaming, setRenaming] = useState(false);\n\n  const handleMenuOpen = () => {\n    setMenuOpen(true);\n  };\n\n  const handleMenuClose = () => {\n    setMenuOpen(false);\n  };\n\n  const handleChange = (event) => {\n    event.persist();\n    setName(event.target.value);\n  };\n\n  const handleRenameInit = () => {\n    setRenaming(true);\n    setMenuOpen(false);\n  };\n\n  const handleRename = async () => {\n    try {\n      if (!name) {\n        setName(list.name);\n        setRenaming(false);\n        return;\n      }\n\n      const update = { name };\n\n      setRenaming(false);\n      await dispatch(updateList(list.id, update));\n      enqueueSnackbar('List updated', {\n        variant: 'success'\n      });\n    } catch (error) {\n      enqueueSnackbar('Ooops!', {\n        variant: 'error'\n      });\n    }\n  };\n\n  const handleDelete = async () => {\n    try {\n      setMenuOpen(false);\n      await dispatch(deleteList(list.id));\n      enqueueSnackbar('List deleted', {\n        variant: 'success'\n      });\n    } catch (error) {\n      enqueueSnackbar('Ooops!', {\n        variant: 'error'\n      });\n    }\n  };\n\n  const handleClear = async () => {\n    try {\n      setMenuOpen(false);\n      await dispatch(clearList(list.id));\n      enqueueSnackbar('List cleared', {\n        variant: 'success'\n      });\n    } catch (error) {\n      enqueueSnackbar('Ooops!', {\n        variant: 'error'\n      });\n    }\n  };\n\n  return (\n    <div\n      className={clsx(classes.root, className)}\n      {...rest}\n    >\n      <Paper className={classes.inner}>\n        <Box\n          py={1}\n          px={2}\n          display=\"flex\"\n          alignItems=\"center\"\n        >\n          {isRenaming ? (\n            <ClickAwayListener onClickAway={handleRename}>\n              <TextField\n                value={name}\n                onBlur={handleRename}\n                onChange={handleChange}\n                variant=\"outlined\"\n                margin=\"dense\"\n              />\n            </ClickAwayListener>\n          ) : (\n            <Typography\n              color=\"inherit\"\n              variant=\"h5\"\n              className={classes.name}\n              onClick={handleRenameInit}\n            >\n              {list.name}\n            </Typography>\n          )}\n          <Box flexGrow={1} />\n          <IconButton\n            color=\"inherit\"\n            edge=\"end\"\n            variant=\"contained\"\n            onClick={handleMenuOpen}\n            ref={moreRef}\n          >\n            <SvgIcon fontSize=\"small\">\n              <MoreIcon />\n            </SvgIcon>\n          </IconButton>\n        </Box>\n        <Divider />\n        <Droppable\n          droppableId={list.id}\n          type=\"card\"\n        >\n          {(provided) => (\n            <Box\n              minHeight={80}\n              ref={provided.innerRef}\n              className={classes.droppableArea}\n            >\n              {list.cardIds.map((cardId, index) => (\n                <Draggable\n                  draggableId={cardId}\n                  index={index}\n                  key={cardId}\n                >\n                  {(provided, snapshot) => (\n                    <Card\n                      cardId={cardId}\n                      dragging={snapshot.isDragging}\n                      index={index}\n                      key={cardId}\n                      list={list}\n                      ref={provided.innerRef}\n                      style={{ ...provided.draggableProps.style }}\n                      {...provided.draggableProps}\n                      {...provided.dragHandleProps}\n                    />\n                  )}\n                </Draggable>\n              ))}\n              {provided.placeholder}\n            </Box>\n          )}\n        </Droppable>\n        <Divider />\n        <Box p={2}>\n          <CardAdd listId={list.id} />\n        </Box>\n        <Menu\n          keepMounted\n          anchorEl={moreRef.current}\n          open={isMenuOpen}\n          onClose={handleMenuClose}\n          anchorOrigin={{\n            vertical: 'bottom',\n            horizontal: 'center'\n          }}\n          PaperProps={{ className: classes.menu }}\n          getContentAnchorEl={null}\n        >\n          <MenuItem onClick={handleRenameInit}>\n            Rename\n          </MenuItem>\n          <MenuItem onClick={handleClear}>\n            Clear\n          </MenuItem>\n          <MenuItem onClick={handleDelete}>\n            Delete\n          </MenuItem>\n        </Menu>\n      </Paper>\n    </div>\n  );\n}\n\nList.propTypes = {\n  className: PropTypes.string,\n  listId: PropTypes.string.isRequired\n};\n\nexport default List;\n"]},"metadata":{},"sourceType":"module"}